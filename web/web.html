<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>web</title>

    <link href="css/reset.css" type="text/css" rel="stylesheet">
    <link href="css/main.css" type="text/css" rel="stylesheet">
    <link href="js/jquery-ui.css" type="text/css" rel="stylesheet">

    <script src="js/jquery-3.7.1.min.js"></script>
    <script src="js/jquery-ui.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
  <script src="https://code.jquery.com/ui/1.14.0/jquery-ui.js"></script>
    <script>

        $(document).ready(function(){


        let i = 0;

        function click(list,list_con,list_img){
            $(list).click(function(){
                if(i==0){
                    $(list_con).css({
                        display : 'block',
                    })
                    $(list_img).attr({
                        src : "img/btn_cocl.gif",
                    })
                    i++;
                }else if(i==1){
                    $(list_con).css({
                        display : 'none',
                    })
                    $(list_img).attr({
                        src : "img/btn_caop.gif",
                    })

                    i--;
                }
            })
        };

            click('.list01 img','.list_01', '#img01');
            click('.list02 img','.list_02', '#img02');
            click('.list03 img','.list_03', '#img03');
            click('.list04 img','.list_04', '#img04');
            click('.list05 img','.list_05', '#img05');
            click('.list06 img','.list_06', '#img06');



        $('.search').click(function(){
            $('.search_box').fadeIn(0);
        });

        $('.box01 h4').click(function(){
            $('.search_box').fadeOut(0);
        });

        $('.search_box').draggable({
            containment : 'parent',
        });

        $(".list_wrap").resizable({
          handles: "e, w", 
          minWidth: 250, // 최소 폭 설정
          maxWidth: 1000, // 최대 폭 설정
         }); 

 /*         $(".main_wrap").resizable({
          handles: "e, w", 
          minWidth: 150, // 최소 폭 설정
          maxWidth: 1000, // 최대 폭 설정
         });  */



/*          $('.list').click(function(){
            $('.main_wrap').css({
                width : '100vh',
            })
         }); */
         









        }); //end
        

        function doSearch(text) {
            let found = false;

            // 처음부터 검색하기 위해 커서를 문서 시작 위치로 이동
            // window.getSelection().removeAllRanges();

            // 현재 창에서 텍스트 검색
        

            if (window.find(text)) {
                console.log("텍스트를 찾았습니다: ", text);
                return true;
            }
      
           // 모든 iframe을 순회하면서 텍스트를 검색
           for (let i = 0; i < window.frames.length; i++) {
                let frame = window.frames[i];
                if (frame.find(text)) {
                    console.log("iframe에서 텍스트를 찾았습니다: ", text);
                    return true;
                }
            } 

            window.getSelection().removeAllRanges();

            for (let i = 0; i < window.frames.length; i++) {
                let frame = window.frames[i];

                try {
                    // iframe의 문서 처음으로 이동
                    frame.focus(); // iframe에 포커스
                    frame.getSelection().removeAllRanges();

                    // iframe 내에서 텍스트 검색
                    if (frame.find(text)) {
                        console.log("iframe에서 텍스트를 찾았습니다: ", text);
                        return true;
                    }
                } catch (e) {
                    console.log(`iframe ${i}에 접근할 수 없습니다: 다른 도메인입니다.`);
                }
            }
            console.log("텍스트를 찾지 못했습니다.");
            return false;
        };

            function open_in_frame(url) {
                $('.main_wrap iframe').attr({
                    src : url,
                });
            };



    </script>
</head>
<body>

        <header>
            <div class="logo"></div>
        </header>

        <section class="menu">
            <div class="search">화면내검색</div>           
        </section>

        <section class="main">
            <div class="list_wrap">
                <ul class="list01">
                    <img src="img/btn_caop.gif" id="img01" alt="plus">인사/복무
                    <li class="list_01"><button class="list" onclick='open_in_frame("file/test1.txt")'>test1</button></li>
                    <li class="list_01"><button class="list" onclick='open_in_frame("file/test2.jpg")'>test1</button></li>
                    <li class="list_01">- 징계계</li>
                    <li class="list_01">- 취업규칙</li>
                    <li class="list_01">- 인사규정</li>
                    <li class="list_01">- 인사위원회 운영지침</li>
                    <li class="list_01">- 노사협의회 운영지침</li>
                    <li class="list_01">- 인사평가 지침</li>
                    <li class="list_01">- 인수인계 지침</li>
                    <li class="list_01">- 파견운영 지침</li>
                    <li class="list_01">- 임금피크제 운영 지침</li>
                    <li class="list_01">- 사내강사 운영 지침</li>
                    <li class="list_01">- 급여규정</li>
                    <li class="list_01">- 상벌규정</li>
                    <li class="list_01">- 직장내 성희롱 예방&처리지침</li>
                    <li class="list_01">- 위생관리 규정</li>
                    <li class="list_01">- 시설안전관리 규정</li>
                    <li class="list_01">- 안전/보건관리 규정</li>
                    <li class="list_01">- 윤리강령</li>
                    <li class="list_01">- 습득물관리 지침</li>
                </ul>
                <ul class="list02">
                    <img src="img/btn_caop.gif" id="img02" alt="plus">조직/직무관리
                    <li class="list_02">- 내부회계관리 규정</li>
                    <li class="list_02">- 사규관리 규정</li>
                    <li class="list_02">- 위임전결 규정</li>
                    <li class="list_02">- 적제규정</li>
                    <li class="list_02">- 경영성과 관리 지침</li>
                    <li class="list_02">- 예산관리 규정</li>
                </ul>
               <ul class="list03">
                    <img src="img/btn_caop.gif" id="img03" alt="plus">재무/자산관리
                    <li class="list_03">test3</li>
                    <li class="list_03">test3</li>
                    <li class="list_03">test3</li>
                </ul>
                <ul class="list04">
                    <img src="img/btn_caop.gif" id="img04" alt="plus">직원복지
                    <li class="list_04">- 직원복지 관리 규정</li>
                    <li class="list_04">- 동호회 관리 지침</li>
                    <li class="list_04">- 임직원 할인 지침</li>
                    <li class="list_04">- 유니폼지급 및 관리 지침</li>
                    <li class="list_04">- 사내복지기금 운영규정</li>
                </ul>
                <ul class="list05">
                    <img src="img/btn_caop.gif" id="img05" alt="plus">개인정보
                    <li class="list_05">test3</li>
                    <li class="list_05">test3</li>
                    <li class="list_05">test3</li>
                </ul>
                <ul class="list06">
                    <img src="img/btn_caop.gif" id="img06" alt="plus">규정에 따른 업무 지침
                    <li class="list_06">- 전표 유형별 표준 적요</li>
                    <li class="list_06">- 손익관리 Process</li>
                </ul>
            </div>


        <div class="main_wrap">
            <iframe class='wrap'
            style="border:0;">
            </iframe>
        </div>

        </section>

        <footer></footer>

        <div class="top_btn">TOP</div>

        <div class="search_box">
            <div class="box01">
                <h3>화면내검색</h3>
                <h4>x</h4>
            </div>
            <input type="text" id="SearchTxt">
            <input type="button" id="SearchBtn" value="Search" onclick="doSearch(document.getElementById('SearchTxt').value)" />
        </div>




    

<script>

</script>
</body>
</html>